# è®¾è®¡æ¨¡å¼æµ…æ(ä¸ƒ) Â·é€‚é…å™¨æ¨¡å¼

## æ—¥å¸¸å¨é€¼å¨

javaè®¾è®¡æ¨¡å¼æµ…æï¼Œå¦‚æœè§‰å¾—å¯¹ä½ æœ‰å¸®åŠ©ï¼Œè®°å¾—ä¸€é”®ä¸‰è¿ï¼Œè°¢è°¢å„ä½è§‚ä¼—è€çˆ·ğŸ˜ğŸ˜



---



## é€‚é…å™¨æ¨¡å¼

### æ¦‚å¿µ

**é€‚é…å™¨æ¨¡å¼**å°†ä¸€ä¸ªç±»çš„æ¥å£è½¬æ¢æˆå®¢æˆ·æœŸæœ›çš„å¦ä¸€ä¸ªæ¥å£ã€‚é€‚é…å™¨è®©åŸæœ¬æ¥å£ä¸å…¼å®¹çš„ç±»å¯ä»¥åˆä½œæ— é—´ã€‚å®ƒç»å¸¸ç”¨æ¥é€‚é…ç°å­˜çš„ç±»è€Œæ— éœ€ä¿®æ”¹å…¶æºç 

### ç»„æˆ

1. **ç›®æ ‡æ¥å£ï¼ˆTarget Interfaceï¼‰**ï¼šè¿™æ˜¯å®¢æˆ·ç«¯æ‰€æœŸæœ›çš„æ¥å£ï¼Œä¹Ÿå°±æ˜¯å®¢æˆ·ç«¯çœŸæ­£éœ€è¦çš„æ¥å£ã€‚ç›®æ ‡æ¥å£å®šä¹‰äº†å®¢æˆ·ç«¯æƒ³è¦ä½¿ç”¨çš„æ–¹æ³•ã€‚
2. **é€‚é…è€…ç±»ï¼ˆAdaptee Classï¼‰**ï¼šè¿™æ˜¯éœ€è¦è¢«é€‚é…çš„åŸå§‹æ¥å£ã€‚é€‚é…è€…ç±»é€šå¸¸æ˜¯ä¸€ä¸ªå·²ç»å­˜åœ¨çš„ç±»ï¼Œå®ƒåŒ…å«äº†ä¸€äº›å®¢æˆ·ç«¯å¸Œæœ›ä½¿ç”¨çš„æ–¹æ³•ï¼Œä½†è¿™äº›æ–¹æ³•çš„æ¥å£ä¸å®¢æˆ·ç«¯æ‰€æœŸæœ›çš„æ¥å£å¹¶ä¸ä¸€è‡´ã€‚
3. **é€‚é…å™¨ç±»ï¼ˆAdapter Classï¼‰**ï¼šè¿™æ˜¯é€‚é…å™¨æ¨¡å¼çš„æ ¸å¿ƒéƒ¨åˆ†ã€‚é€‚é…å™¨ç±»å®ç°äº†ç›®æ ‡æ¥å£ï¼Œå¹¶åœ¨å…¶å†…éƒ¨è°ƒç”¨äº†é€‚é…è€…ç±»çš„æ–¹æ³•ã€‚è¿™æ ·ï¼Œå®¢æˆ·ç«¯å°±å¯ä»¥é€šè¿‡è°ƒç”¨é€‚é…å™¨ç±»çš„æ–¹æ³•æ¥é—´æ¥è°ƒç”¨é€‚é…è€…ç±»çš„æ–¹æ³•ï¼Œä»è€Œå®ç°äº†æ¥å£è½¬æ¢ã€‚

### ä¸»è¦å®ç°æ–¹å¼

é€‚é…å™¨ç±»é€šå¸¸æœ‰ä¸‰ç§å®ç°æ–¹å¼ï¼š

- **ç±»é€‚é…å™¨**ï¼šé€šè¿‡ç»§æ‰¿é€‚é…è€…ç±»å¹¶å®ç°ç›®æ ‡æ¥å£æ¥å®ç°ã€‚è¿™ç§æ–¹å¼çš„ç¼ºç‚¹æ˜¯å®ƒè¦æ±‚é€‚é…è€…ç±»å¿…é¡»æ˜¯ä¸€ä¸ªç±»ï¼Œè€Œä¸èƒ½æ˜¯ä¸€ä¸ªæ¥å£ã€‚æ­¤å¤–ï¼Œç”±äºæ˜¯é€šè¿‡ç»§æ‰¿æ¥å®ç°çš„ï¼Œå› æ­¤ç±»é€‚é…å™¨åªèƒ½é€‚é…ä¸€ä¸ªé€‚é…è€…ç±»ã€‚
- **å¯¹è±¡é€‚é…å™¨**ï¼šé€šè¿‡ç»„åˆé€‚é…è€…ç±»çš„å®ä¾‹å¹¶å®ç°ç›®æ ‡æ¥å£æ¥å®ç°ã€‚è¿™ç§æ–¹å¼çš„ä¼˜ç‚¹æ˜¯å®ƒä¸éœ€è¦ç»§æ‰¿é€‚é…è€…ç±»ï¼Œå› æ­¤å¯ä»¥é€‚é…æ¥å£æˆ–ç±»ã€‚æ­¤å¤–ï¼Œå¯¹è±¡é€‚é…å™¨å¯ä»¥é€‚é…å¤šä¸ªé€‚é…è€…ç±»ï¼Œåªéœ€è¦åœ¨é€‚é…å™¨ç±»ä¸­æŒæœ‰å¤šä¸ªé€‚é…è€…ç±»çš„å®ä¾‹å³å¯ã€‚
- **æ¥å£é€‚é…å™¨**ï¼ˆé»˜è®¤é€‚é…å™¨ï¼‰ï¼šå½“ä¸å¸Œæœ›å®ç°æ¥å£ä¸­çš„æ‰€æœ‰æ–¹æ³•æ—¶ï¼Œå¯ä»¥åˆ›å»ºä¸€ä¸ªæŠ½è±¡ç±»å®ç°è¯¥æ¥å£ï¼Œå¹¶ä¸ºæ‰€æœ‰æ–¹æ³•æä¾›é»˜è®¤å®ç°ã€‚å­ç±»å¯ä»¥é€‰æ‹©æ€§åœ°è¦†ç›–è¿™äº›æ–¹æ³•ã€‚



## æ¡ˆä¾‹

> åœ¨è¿™ä¸ªæ¡ˆä¾‹ä¸­ï¼Œæˆ‘ä»¬å°†åˆ›å»ºä¸€ä¸ªé€‚é…å™¨æ¥å°†ä¸€ä¸ªæ—§çš„ç¡¬ç›˜é©±åŠ¨å™¨æ¥å£é€‚é…åˆ°æ–°çš„ç¡¬ç›˜é©±åŠ¨å™¨æ¥å£ã€‚

### ç±»é€‚é…å™¨å®ç°

> é¦–å…ˆï¼Œæˆ‘ä»¬å®šä¹‰ä¸¤ä¸ªæ¥å£ï¼Œ`OldHardDrive` å’Œ `NewHardDrive`ï¼Œåˆ†åˆ«ä»£è¡¨æ—§çš„ç¡¬ç›˜é©±åŠ¨å™¨æ¥å£å’Œæ–°çš„ç¡¬ç›˜é©±åŠ¨å™¨æ¥å£ï¼š

```java
//æ–°çš„ç¡¬ç›˜å¯åŠ¨å™¨æ¥å£
public interface NewHardDrive {
    void read();
    void write();
    void connectToSystem();
}
//æ—§çš„ç¡¬ç›˜å¯åŠ¨å™¨æ¥å£
public interface OldHardDrive {
    void readData();
    void writeData();
    void connect();
}
```

> å®šä¹‰æ—§ç¡¬ç›˜é©±åŠ¨å™¨çš„å…·ä½“å®ç°

```java
public class OldHardDriveImpl implements OldHardDrive {
    @Override
    public void readData() {
        System.out.println("Reading data from old hard drive...");
    }

    @Override
    public void writeData() {
        System.out.println("Writing data to old hard drive...");
    }

    @Override
    public void connect() {
        System.out.println("Connecting old hard drive...");
    }
}
```

> å®šä¹‰é€‚é…å™¨

```java
// é€‚é…å™¨ç±»ï¼Œå°†OldHardDriveæ¥å£é€‚é…åˆ°NewHardDriveæ¥å£
public class HardDriveAdapter extends OldHardDriveImpl implements NewHardDrive {
    // ç”±äºç»§æ‰¿äº†Adapteeï¼Œæ‰€ä»¥å¯ä»¥ç›´æ¥ä½¿ç”¨Adapteeçš„æ–¹æ³•
    // åŒæ—¶ä¹Ÿéœ€è¦å®ç°Targetæ¥å£ä¸­çš„æ–¹æ³•
    @Override
    public void read() {
        readData();
    }

    @Override
    public void write() {
      writeData();
    }

    @Override
    public void connectToSystem() {
       connect();
        System.out.println("Adapter connected old hard drive to the new system.");
    }
}
```

> æœ€ååˆ›å»ºçš„æµ‹è¯•ç±»å¯ä»¥é€šè¿‡ç±»é€‚é…å™¨è°ƒç”¨ç›®æ ‡æ¥å£çš„æ–¹æ³•

```java
public class Client {
    public static void main(String[] args) {
        // åˆ›å»ºé€‚é…å™¨ï¼Œå°†æ—§ç¡¬ç›˜é©±åŠ¨å™¨ä¼ é€’ç»™é€‚é…å™¨
        NewHardDrive adapter = new HardDriveAdapter();

        // ä½¿ç”¨é€‚é…å™¨è°ƒç”¨æ–°æ¥å£çš„æ–¹æ³•
        adapter.connectToSystem();
        adapter.read();
        adapter.write();
    }
}
```

åœ¨è¿™ä¸ªä¾‹å­ä¸­ï¼Œ`HardDriveAdapter` ç»§æ‰¿è‡ª `OldHardDriveImpl` å¹¶å®ç°äº† `NewHardDrive` æ¥å£ã€‚å½“å®¢æˆ·ç«¯è°ƒç”¨ `NewHardDrive.connectToSystem()` ç­‰æ–¹æ³•æ—¶ï¼Œå®é™…ä¸Šè°ƒç”¨çš„æ˜¯ `HardDriveAdapter` ä¸­çš„ `connectToSystem()` ç­‰æ–¹æ³•ï¼Œè€Œ `connectToSystem()` ç­‰æ–¹æ³•å†…éƒ¨åˆè°ƒç”¨äº† `OldHardDriveImpl` çš„ `connectToSystem()`ç­‰ æ–¹æ³•ã€‚

ç±»é€‚é…å™¨çš„ä¸€ä¸ªæ½œåœ¨ç¼ºç‚¹æ˜¯å®ƒä¾èµ–äºé€‚é…è€…ç±»çš„å…·ä½“å®ç°ï¼Œè¿™è¿åäº†é‡Œæ°æ›¿æ¢åŸåˆ™ã€‚å¦‚æœé€‚é…è€…ç±»çš„æ¥å£åœ¨æœªæ¥å‘ç”Ÿå˜åŒ–ï¼Œç±»é€‚é…å™¨å¯èƒ½éœ€è¦è¿›è¡Œç›¸åº”çš„ä¿®æ”¹ï¼Œè¿™å¯èƒ½å¯¼è‡´ä»£ç çš„ä¸ç¨³å®šã€‚

å› æ­¤ï¼Œåœ¨å®é™…åº”ç”¨ä¸­ï¼Œå¦‚æœå¯èƒ½çš„è¯ï¼Œæ›´æ¨èä½¿ç”¨å¯¹è±¡é€‚é…å™¨ï¼ˆObject Adapterï¼‰ï¼Œå› ä¸ºå®ƒä¸ä¾èµ–äºé€‚é…è€…ç±»çš„å…·ä½“å®ç°ï¼Œè€Œæ˜¯é€šè¿‡ç»„åˆï¼ˆcompositionï¼‰çš„æ–¹å¼ä½¿ç”¨é€‚é…è€…ç±»çš„å®ä¾‹ï¼Œä»è€Œå‡å°‘äº†ä»£ç ä¹‹é—´çš„è€¦åˆæ€§ã€‚

## å¯¹è±¡é€‚é…å™¨å®ç°

> è¿˜æ˜¯ä¸Šè¿°çš„æ¡ˆä¾‹ï¼Œæ”¹ä¸ºä½¿ç”¨å¯¹è±¡é€‚é…å™¨è¿›è¡Œå®ç°

```java
//æ–°æ—§é©±åŠ¨å™¨æ¥å£æœªå‘ç”Ÿæ”¹å˜
public interface NewHardDrive {
    void read();
    void write();
    void connectToSystem();
}

public interface OldHardDrive {
    void readData();
    void writeData();
    void connect();
}
```

```java
// æ—§ç¡¬ç›˜é©±åŠ¨å™¨å®ç°ä¹Ÿæœªå‘ç”Ÿæ”¹å˜
public class OldHardDriveImpl implements OldHardDrive {
    @Override
    public void readData() {
        System.out.println("Reading data from old hard drive...");
    }

    @Override
    public void writeData() {
        System.out.println("Writing data to old hard drive...");
    }

    @Override
    public void connect() {
        System.out.println("Connecting old hard drive...");
    }
}
```

é€‚é…å™¨ä¸å†ç»§æ‰¿æ—§ç¡¬ç›˜é©±åŠ¨å™¨çš„å®ç°ç±»

```java
// é€‚é…å™¨ç±»ï¼Œå°†OldHardDriveæ¥å£é€‚é…åˆ°NewHardDriveæ¥å£
public class HardDriveAdapter implements NewHardDrive {
    private OldHardDrive oldHardDrive;

    public HardDriveAdapter(OldHardDrive oldHardDrive) {
        this.oldHardDrive = oldHardDrive;
    }

    @Override
    public void read() {
        oldHardDrive.readData();
    }

    @Override
    public void write() {
        oldHardDrive.writeData();
    }

    @Override
    public void connectToSystem() {
        oldHardDrive.connect();
        System.out.println("Adapter connected old hard drive to the new system.");
    }
}
```

æµ‹è¯•ç±»ä¹Ÿå‘ç”Ÿæ”¹å˜

```java
public class Client {
    public static void main(String[] args) {
        // åˆ›å»ºæ—§ç¡¬ç›˜é©±åŠ¨å™¨å®ä¾‹
        OldHardDrive oldHardDrive = new OldHardDriveImpl();

        // åˆ›å»ºé€‚é…å™¨ï¼Œå°†æ—§ç¡¬ç›˜é©±åŠ¨å™¨ä¼ é€’ç»™é€‚é…å™¨
        NewHardDrive adapter = new HardDriveAdapter(oldHardDrive);

        // ä½¿ç”¨é€‚é…å™¨è°ƒç”¨æ–°æ¥å£çš„æ–¹æ³•
        adapter.connectToSystem();
        adapter.read();
        adapter.write();
    }
}
```

åœ¨è¿™ä¸ªæ¡ˆä¾‹ä¸­ï¼Œ`HardDriveAdapter` ç±»å……å½“äº†é€‚é…å™¨çš„è§’è‰²ï¼Œå®ƒå®ç°äº† `NewHardDrive` æ¥å£ï¼Œå¹¶å°†æ—§ç¡¬ç›˜é©±åŠ¨å™¨çš„æ“ä½œå°è£…åœ¨å…¶å†…éƒ¨ã€‚è¿™æ ·ï¼Œæ–°ç³»ç»Ÿå°±å¯ä»¥é€šè¿‡ `HardDriveAdapter` ç±»æ¥æ“ä½œæ—§ç¡¬ç›˜é©±åŠ¨å™¨ï¼Œè€Œæ— éœ€å…³å¿ƒæ—§æ¥å£çš„å…·ä½“å®ç°ã€‚è¿™å°±æ˜¯é€‚é…å™¨æ¨¡å¼çš„ä¸€ä¸ªå®é™…åº”ç”¨æ¡ˆä¾‹ã€‚

## ä¼˜ç•¥å¯¹æ¯”

ç±»é€‚é…å™¨å’Œå¯¹è±¡é€‚é…å™¨éƒ½æ˜¯é€‚é…å™¨æ¨¡å¼çš„ä¸åŒå®ç°æ–¹å¼ï¼Œå®ƒä»¬å„æœ‰ä¼˜ç¼ºç‚¹ï¼Œé€‚ç”¨äºä¸åŒçš„åœºæ™¯ã€‚ä»¥ä¸‹æ˜¯ç±»é€‚é…å™¨å’Œå¯¹è±¡é€‚é…å™¨åœ¨Javaä¸­çš„ä¼˜åŠ£åŠ¿å¯¹æ¯”ï¼š

#### ç±»é€‚é…å™¨ï¼ˆClass Adapterï¼‰

ä¼˜åŠ¿ï¼š

1. **ä»£ç ç®€æ´æ€§**ï¼šç±»é€‚é…å™¨é€šå¸¸åªéœ€è¦ä¸€ä¸ªé€‚é…å™¨ç±»ï¼Œè¯¥ç±»ç»§æ‰¿è‡ªé€‚é…è€…ç±»å¹¶å®ç°ç›®æ ‡æ¥å£ã€‚è¿™ç§å®ç°æ–¹å¼ç›¸å¯¹ç®€å•å’Œç›´æ¥ã€‚
2. **å¤šé‡ç»§æ‰¿é—®é¢˜**ï¼šå¦‚æœç›®æ ‡æ¥å£å’Œé€‚é…è€…ç±»éƒ½ç»§æ‰¿è‡ªåŒä¸€ä¸ªåŸºç±»æˆ–æœ‰ç›¸åŒçš„æ¥å£ï¼Œé‚£ä¹ˆç±»é€‚é…å™¨å°±æ— æ³•å·¥ä½œã€‚åœ¨è¿™ç§æƒ…å†µä¸‹ï¼Œå¯¹è±¡é€‚é…å™¨æ˜¯æ›´å¥½çš„é€‰æ‹©ã€‚

åŠ£åŠ¿ï¼š

1. **ç»§æ‰¿çš„å±€é™æ€§**ï¼šç±»é€‚é…å™¨ä½¿ç”¨äº†ç»§æ‰¿ï¼Œè¿™æ„å‘³ç€é€‚é…å™¨ç±»ä¸èƒ½åŒæ—¶é€‚é…å¤šä¸ªä¸å…¼å®¹çš„æ¥å£ï¼Œå› ä¸ºJavaä¸æ”¯æŒå¤šé‡ç»§æ‰¿ã€‚
2. **æ‰©å±•æ€§é—®é¢˜**ï¼šå¦‚æœé€‚é…è€…ç±»çš„æ¥å£å‘ç”Ÿæ”¹å˜ï¼Œå¯èƒ½éœ€è¦ä¿®æ”¹é€‚é…å™¨ç±»çš„ä»£ç ï¼Œè¿™è¿èƒŒäº†å¼€æ”¾å°é—­åŸåˆ™ï¼ˆOCPï¼‰ã€‚

#### å¯¹è±¡é€‚é…å™¨ï¼ˆObject Adapterï¼‰

ä¼˜åŠ¿ï¼š

1. **çµæ´»æ€§**ï¼šå¯¹è±¡é€‚é…å™¨ä½¿ç”¨å¯¹è±¡ç»„åˆè€Œä¸æ˜¯ç»§æ‰¿ï¼Œå› æ­¤å¯ä»¥é€‚é…å¤šä¸ªä¸å…¼å®¹çš„æ¥å£ï¼Œè§£å†³äº†ç±»é€‚é…å™¨ä¸­å¤šé‡ç»§æ‰¿çš„é—®é¢˜ã€‚
2. **æ›´å¥½çš„éµå¾ªOCP**ï¼šç”±äºä½¿ç”¨å¯¹è±¡ç»„åˆï¼Œå½“é€‚é…è€…ç±»çš„æ¥å£å‘ç”Ÿæ”¹å˜æ—¶ï¼Œåªéœ€è¦ä¿®æ”¹é€‚é…å™¨ç±»çš„ä»£ç ï¼Œè€Œä¸éœ€è¦ä¿®æ”¹å®¢æˆ·ç«¯ä»£ç ï¼Œè¿™æ›´ç¬¦åˆå¼€æ”¾å°é—­åŸåˆ™ã€‚
3. **æ›´å¥½çš„è§£è€¦**ï¼šå¯¹è±¡é€‚é…å™¨å‡å°‘äº†å®¢æˆ·ç«¯å’Œé€‚é…è€…ä¹‹é—´çš„è€¦åˆåº¦ï¼Œå› ä¸ºå®¢æˆ·ç«¯åªä¾èµ–äºç›®æ ‡æ¥å£ï¼Œè€Œä¸æ˜¯å…·ä½“çš„é€‚é…è€…ç±»ã€‚

åŠ£åŠ¿ï¼š

1. **ä»£ç å¤æ‚æ€§**ï¼šä¸ç±»é€‚é…å™¨ç›¸æ¯”ï¼Œå¯¹è±¡é€‚é…å™¨å¯èƒ½éœ€è¦æ›´å¤šçš„ä»£ç ï¼Œå› ä¸ºéœ€è¦åˆ›å»ºé€‚é…å™¨å¯¹è±¡å¹¶è°ƒç”¨å…¶æ–¹æ³•ã€‚
2. **é¢å¤–çš„å¯¹è±¡åˆ›å»ºå¼€é”€**ï¼šç”±äºä½¿ç”¨äº†å¯¹è±¡ç»„åˆï¼Œæ¯æ¬¡éœ€è¦é€‚é…æ—¶éƒ½éœ€è¦åˆ›å»ºä¸€ä¸ªæ–°çš„é€‚é…å™¨å¯¹è±¡ï¼Œè¿™å¯èƒ½ä¼šå¢åŠ ä¸€äº›é¢å¤–çš„å†…å­˜å¼€é”€ã€‚

---

ä»£ç ç›¸å…³ä»£ç å¯ä»¥å‚è€ƒ **[ä»£ç ä»“åº“ğŸŒ](https://gitee.com/jerrylau213/DesignPatterns)**

**psï¼šæœ¬æ–‡åŸåˆ›ï¼Œè½¬è½½è¯·æ³¨æ˜å‡ºå¤„**

---