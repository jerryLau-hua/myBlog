# è®¾è®¡æ¨¡å¼æµ…æ(äº”) Â·å•ä¾‹æ¨¡å¼

## æ—¥å¸¸å¨é€¼å¨

javaè®¾è®¡æ¨¡å¼æµ…æï¼Œå¦‚æœè§‰å¾—å¯¹ä½ æœ‰å¸®åŠ©ï¼Œè®°å¾—ä¸€é”®ä¸‰è¿ï¼Œè°¢è°¢å„ä½è§‚ä¼—è€çˆ·ğŸ˜ğŸ˜



---



## å•ä¾‹æ¨¡å¼

#### æ¦‚å¿µ

**å•ä¾‹æ¨¡å¼**ç¡®ä¿ä¸€ä¸ªç±»åªæœ‰ä¸€ä¸ªå®ä¾‹ï¼Œå¹¶æä¾›ä¸€ä¸ªå…¨å±€è®¿é—®ç‚¹ã€‚

## æ‡’æ±‰å¼ï¼šçº¿ç¨‹ä¸å®‰å…¨

é‚£ä¹ˆæ€ä¹ˆæ„å»ºä¸€ä¸ªå•ä¾‹æ¨¡å¼ï¼Œä½¿å¾—åªè¿”å›å”¯ä¸€ä¸€ä¸ªå¯¹è±¡å®ä¾‹å‘¢ï¼Œæˆ‘è¿™é‡Œæä¾›äº†ä¸€ç§æ–¹æ³•

```java
public class SingleInstance {
    //åˆ©ç”¨ä¸€ä¸ªé™æ€å˜é‡æ¥è®°å½•SingleInstanceç±»çš„å”¯ä¸€å®ä¾‹ã€‚
    public static SingleInstance singleInstance;

    //æŠŠæ„é€ å™¨å£°æ˜ä¸ºç§æœ‰çš„ï¼Œåªæœ‰SingleInstanceç±»å†…æ‰å¯ä»¥è°ƒç”¨æ„é€ å™¨
    private SingleInstance() {
    }

    public static SingleInstance getInstance() {

        //å¦‚æœå®ƒä¸å­˜åœ¨ï¼Œæˆ‘ä»¬å°±åˆ©ç”¨ç§æœ‰çš„æ„é€ å™¨äº§ç”Ÿä¸€ä¸ªSingleInstanceå®ä¾‹å¹¶æŠŠå®ƒèµ‹å€¼åˆ°singleInstanceé™æ€å˜é‡ä¸­ã€‚è¯·æ³¨æ„ï¼Œå¦‚æœæˆ‘ä»¬ä¸éœ€è¦è¿™ä¸ªå®ä¾‹ï¼Œå®ƒå°±æ°¸è¿œä¸ä¼šäº§ç”Ÿã€‚è¿™å°±æ˜¯â€œå»¶è¿Ÿå®ä¾‹åŒ–â€(laxy instantiaze)
        if (singleInstance == null) {
            singleInstance = new SingleInstance();
        }
        //å¦‚æœsingleInstanceä¸æ˜¯nullï¼Œå°±è¡¨ç¤ºä¹‹å‰å·²ç»åˆ›å»ºè¿‡å¯¹è±¡ã€‚æˆ‘ä»¬å°±ç›´æ¥è·³åˆ°returnè¯­å¥ã€‚
        return singleInstance;
    }
}
```

çœ‹èµ·æ¥å¥½åƒæ˜¯æ²¡æœ‰ä»€ä¹ˆå¤§çš„é—®é¢˜ æ€è·¯æ¸…æ™°ï¼Œä»£ç æ˜ç¡®ã€‚é‚£ä¹ˆæˆ‘ä»¬å†™å¦‚ä¸‹ä»£ç è¿›è¡Œæµ‹è¯•

```java
public class Client extends Thread {
    @Override
    public void run() {
        // çº¿ç¨‹æ‰§è¡Œçš„ä»£ç 
        SingleInstance instance = SingleInstance.getInstance();

        System.out.println(instance + " <çº¿ç¨‹"+Thread.currentThread().getId()+"æ­£åœ¨è¿è¡Œ>");
    }
    public static void main(String[] args) {
        int i = 0;
        while (i < 5) {
            i++;
            Client myThread = new Client();
            myThread.start(); // å¯åŠ¨çº¿ç¨‹
        }
    }
}
```



> è¿è¡Œç»“æœï¼š
>
> com.jerry.singlePattern.SingleInstance@294eb59e <çº¿ç¨‹24æ­£åœ¨è¿è¡Œ>
> com.jerry.singlePattern.SingleInstance@4c3154fa <çº¿ç¨‹23æ­£åœ¨è¿è¡Œ>
> com.jerry.singlePattern.SingleInstance@294eb59e <çº¿ç¨‹20æ­£åœ¨è¿è¡Œ>
> com.jerry.singlePattern.SingleInstance@294eb59e <çº¿ç¨‹21æ­£åœ¨è¿è¡Œ>
> com.jerry.singlePattern.SingleInstance@4add1757 <çº¿ç¨‹22æ­£åœ¨è¿è¡Œ>

è¿è¡Œç»“æœå´æœ‰ç‚¹å‡ºä¹æ„æ–™ï¼Ÿï¼Ÿï¼Ÿæˆ‘ä»¬ä¸æ˜¯å•ä¾‹æ¨¡å¼å—ï¼Ÿæ€ä¹ˆåˆ›å»ºå‡ºè¿™ä¹ˆå¤šçš„`SingleInstance`å¯¹è±¡ï¼Ÿï¼Ÿ

> å‡ºç°ä¸Šè¿°é—®é¢˜çš„åŸå› æ˜¯**å¤šçº¿ç¨‹**
>
> åœ¨è¿™ä¸ªå®ç°æ–¹å¼ä¸­ï¼Œ`getInstance()` æ–¹æ³•ä¼šæ£€æŸ¥ `singleInstance` æ˜¯å¦ä¸º `null`ï¼Œå¦‚æœæ˜¯åˆ™åˆ›å»ºä¸€ä¸ªæ–°çš„ `singleInstance` å®ä¾‹ã€‚é—®é¢˜å‡ºåœ¨å¤šä¸ªçº¿ç¨‹å¯èƒ½åŒæ—¶æ£€æŸ¥åˆ° `singleInstance` ä¸º `null`ï¼Œç„¶åæ¯ä¸ªçº¿ç¨‹éƒ½åˆ›å»ºä¸€ä¸ªæ–°çš„å®ä¾‹ï¼Œè¿™å°±è¿èƒŒäº†å•ä¾‹æ¨¡å¼çš„åˆè¡·ã€‚
>
> å…·ä½“æ¥è¯´ï¼Œå‡è®¾æœ‰ä¸¤ä¸ªçº¿ç¨‹ T1 å’Œ T2 åŒæ—¶è°ƒç”¨ `getInstance()` æ–¹æ³•ã€‚ç”±äº `singleInstance` çš„åˆå§‹å€¼ä¸º `null`ï¼ŒT1 å’Œ T2 éƒ½ä¼šè¿›å…¥ `if (singleInstance== null)` çš„åˆ¤æ–­ã€‚ç”±äºè¿™ä¸¤ä¸ªçº¿ç¨‹æ˜¯å¹¶å‘æ‰§è¡Œçš„ï¼Œå®ƒä»¬å¯èƒ½ä¼šåŒæ—¶è¿›å…¥è¿™ä¸ªåˆ¤æ–­æ¡ä»¶ï¼Œå¹¶ä¸”éƒ½é€šè¿‡åˆ¤æ–­ï¼Œç„¶åå„è‡ªåˆ›å»ºä¸€ä¸ªæ–°çš„ `singleInstance` å®ä¾‹ã€‚è¿™å°±å¯¼è‡´äº†å¤šä¸ªå®ä¾‹è¢«åˆ›å»ºï¼Œè¿åäº†å•ä¾‹æ¨¡å¼çš„è§„åˆ™ã€‚



## æ‡’æ±‰å¼ï¼šçº¿ç¨‹å®‰å…¨ï¼ˆåŒæ­¥æ–¹æ³•ï¼‰

æˆ‘ä»¬å¯ä»¥å°†ä¸Šè¿°ä»£ç ç¨åŠ ä¿®æ”¹ï¼Œé€šè¿‡å¢åŠ synchronizedå…³é”®æ‰‹åˆ°getInstance()æ–¹æ³•ä¸­ï¼Œæˆ‘ä»¬è¿«ä½¿æ¯ä¸ªçº¿ç¨‹åœ¨è¿›å…¥è¿™ä¸ªæ–¹æ³•ä¹‹å‰ï¼Œè¦å…ˆç­‰å€™åˆ«çš„çº¿ç¨‹ç¦»å¼€è¯¥æ–¹æ³•ã€‚ä¹Ÿå°±æ˜¯è¯´ï¼Œä¸ä¼šæœ‰ä¸¤ä¸ªçº¿ç¨‹å¯ä»¥åŒæ—¶è¿›å…¥è¿™ä¸ªæ–¹æ³•ã€‚

```java
public class SingleInstance2 {
    public static SingleInstance2 singleInstance;

    private SingleInstance2() {
    }

    public static synchronized SingleInstance2 getInstance() {

        if (singleInstance == null) {
            singleInstance = new SingleInstance2();
        }
        return singleInstance;
    }
}
```

> è¿è¡Œç»“æœï¼š
>
> com.jerry.singlePattern.SingleInstance2@5a506132 <çº¿ç¨‹23æ­£åœ¨è¿è¡Œ>
> com.jerry.singlePattern.SingleInstance2@5a506132 <çº¿ç¨‹21æ­£åœ¨è¿è¡Œ>
> com.jerry.singlePattern.SingleInstance2@5a506132 <çº¿ç¨‹22æ­£åœ¨è¿è¡Œ>
> com.jerry.singlePattern.SingleInstance2@5a506132 <çº¿ç¨‹24æ­£åœ¨è¿è¡Œ>
> com.jerry.singlePattern.SingleInstance2@5a506132 <çº¿ç¨‹20æ­£åœ¨è¿è¡Œ>

è™½ç„¶å®ç°äº†åŒæ­¥ï¼Œå®ç°äº†å•ä¾‹ï¼Œä½†æ˜¯ä¸Šè¿°æ–¹æ³•çš„ç¡®æ˜¯æœ‰ä¸€ç‚¹ä¸å¥½ã€‚è€Œæ¯”æƒ³è±¡çš„è¿˜è¦ä¸¥é‡ä¸€äº›çš„æ˜¯:åªæœ‰ç¬¬ä¸€æ¬¡æ‰§è¡Œæ­¤æ–¹æ³•æ—¶ï¼Œæ‰çœŸæ­£éœ€è¦åŒæ­¥ã€‚æ¢å¥è¯è¯´ï¼Œä¸€æ—¦è®¾ç½®å¥½singleInstanceå˜é‡ï¼Œå°±ä¸å†éœ€è¦åŒæ­¥è¿™ä¸ªæ–¹æ³•äº†ã€‚ä¹‹åæ¯æ¬¡è°ƒç”¨è¿™ä¸ªæ–¹æ³•ï¼ŒåŒæ­¥éƒ½æ˜¯ä¸€ç§ç´¯èµ˜ã€‚

## æ‡’æ±‰å¼ï¼šçº¿ç¨‹å®‰å…¨ï¼ˆåŒé‡æ£€æŸ¥é”å®šï¼‰

é‚£ä¹ˆåœ¨è¿›è¡Œä¸€äº›ç¨‹åºä¸Šçš„ä¿®æ”¹ï¼Œåˆ©ç”¨åŒé‡æ£€æŸ¥åŠ é”(double-checked locking)ï¼Œé¦–å…ˆæ£€æŸ¥æ˜¯å¦å®ä¾‹å·²ç»åˆ›å»ºäº†ï¼Œå¦‚æœå°šæœªåˆ›å»ºï¼Œâ€œæ‰â€è¿›è¡ŒåŒæ­¥ã€‚è¿™æ ·ä¸€æ¥ï¼Œåªæœ‰ç¬¬ä¸€æ¬¡ä¼šåŒæ­¥ï¼Œè¿™æ­£æ˜¯æˆ‘ä»¬æƒ³è¦çš„ã€‚

```java
public class SingleInstance3 {
    public static volatile SingleInstance3 singleInstance;

    private SingleInstance3() {
    }

    public static SingleInstance3 getInstance() {
        if (singleInstance == null) {
            synchronized (SingleInstance3.class) {
                if (singleInstance == null) {
                    singleInstance = new SingleInstance3();
                }
            }
        }
        return singleInstance;
    }
}
```

> è¿è¡Œç»“æœï¼š
>
> com.jerry.singlePattern.SingleInstance3@1aef3070 <çº¿ç¨‹24æ­£åœ¨è¿è¡Œ>
> com.jerry.singlePattern.SingleInstance3@1aef3070 <çº¿ç¨‹21æ­£åœ¨è¿è¡Œ>
> com.jerry.singlePattern.SingleInstance3@1aef3070 <çº¿ç¨‹20æ­£åœ¨è¿è¡Œ>
> com.jerry.singlePattern.SingleInstance3@1aef3070 <çº¿ç¨‹23æ­£åœ¨è¿è¡Œ>
> com.jerry.singlePattern.SingleInstance3@1aef3070 <çº¿ç¨‹22æ­£åœ¨è¿è¡Œ>

è¿™ç§å®ç°æ–¹å¼æ—¢ä¿è¯äº†çº¿ç¨‹å®‰å…¨ï¼Œåˆé¿å…äº†ä¸å¿…è¦çš„åŒæ­¥ï¼Œæé«˜äº†æ•ˆç‡ã€‚ä½†æ˜¯éœ€è¦æ³¨æ„çš„æ˜¯ï¼ŒJava 1.5 ä»¥å‰çš„ç‰ˆæœ¬å¯¹ volatile çš„æ”¯æŒå¹¶ä¸å®Œå–„ï¼Œå› æ­¤åœ¨ Java 1.5 ä»¥å‰çš„ç‰ˆæœ¬ä¸­ä½¿ç”¨åŒé‡æ£€æŸ¥é”å®šå¯èƒ½ä¼šå­˜åœ¨é—®é¢˜ã€‚

é™¤äº†ä¸Šè¿°çš„å‡ ç§æ–¹æ¡ˆï¼Œè¿˜æœ‰ä¸€äº›æ–¹æ¡ˆå®ç°å•ä¾‹æ¨¡å¼ï¼š

## é¥¿æ±‰å¼ï¼šçº¿ç¨‹å®‰å…¨

```java
public class SingleInstance1 {
    // åœ¨ç±»åŠ è½½æ—¶å°±å®Œæˆäº†åˆå§‹åŒ–ï¼Œæ‰€ä»¥ç±»åŠ è½½è¾ƒæ…¢ï¼Œä½†è·å–å¯¹è±¡çš„é€Ÿåº¦å¿«
    public static SingleInstance1 singleInstance=new SingleInstance1();

   private SingleInstance1() {
    }

    public static SingleInstance1 getInstance() {
        return singleInstance;
    }
}
```

> è¿è¡Œç»“æœ
>
> com.jerry.singlePattern.SingleInstance1@7070e0ed <çº¿ç¨‹20æ­£åœ¨è¿è¡Œ>
> com.jerry.singlePattern.SingleInstance1@7070e0ed <çº¿ç¨‹24æ­£åœ¨è¿è¡Œ>
> com.jerry.singlePattern.SingleInstance1@7070e0ed <çº¿ç¨‹21æ­£åœ¨è¿è¡Œ>
> com.jerry.singlePattern.SingleInstance1@7070e0ed <çº¿ç¨‹23æ­£åœ¨è¿è¡Œ>
> com.jerry.singlePattern.SingleInstance1@7070e0ed <çº¿ç¨‹22æ­£åœ¨è¿è¡Œ>

åœ¨è¿™ä¸ªä¾‹å­ä¸­ï¼Œ`SingleInstance1`ç±»çš„`singleInstance`æˆå‘˜å˜é‡åœ¨ç±»åŠ è½½æ—¶å°±è¢«åˆå§‹åŒ–äº†ï¼Œç”±äºJVMçš„ç±»åŠ è½½æœºåˆ¶æ˜¯çº¿ç¨‹å®‰å…¨çš„ï¼Œæ‰€ä»¥è¿™ä¸ªè¿‡ç¨‹æ˜¯çº¿ç¨‹å®‰å…¨çš„ã€‚å› æ­¤ï¼Œåç»­çš„`getInstance()`æ–¹æ³•è°ƒç”¨éƒ½æ˜¯ç›´æ¥è¿”å›è¿™ä¸ªå·²ç»åˆå§‹åŒ–å¥½çš„`instance`ï¼Œä¸éœ€è¦é¢å¤–çš„åŒæ­¥æªæ–½ã€‚

è¿™å°±æ˜¯é¥¿æ±‰å¼å•ä¾‹æ¨¡å¼å¦‚ä½•ä¿è¯çº¿ç¨‹å®‰å…¨çš„æ–¹å¼ã€‚ç”±äºå®ƒåœ¨ç±»åŠ è½½æ—¶å°±å®Œæˆäº†åˆå§‹åŒ–ï¼Œæ‰€ä»¥ä¸å­˜åœ¨å¤šçº¿ç¨‹å¹¶å‘è®¿é—®çš„é—®é¢˜ï¼Œå› æ­¤æ˜¯çº¿ç¨‹å®‰å…¨çš„ã€‚

#### é™æ€å†…éƒ¨ç±»ï¼šçº¿ç¨‹å®‰å…¨

```java
public class SingleInstance4 {
    private static class SingletonHolder {
        private static final SingleInstance4 INSTANCE = new SingleInstance4();
    }
    private SingleInstance4 (){}

    public static final SingleInstance4 getInstance() {
        return SingletonHolder.INSTANCE;
    }
}
```

> è¿è¡Œç»“æœ
>
> com.jerry.singlePattern.SingleInstance4@7004943 <çº¿ç¨‹23æ­£åœ¨è¿è¡Œ>
> com.jerry.singlePattern.SingleInstance4@7004943 <çº¿ç¨‹20æ­£åœ¨è¿è¡Œ>
> com.jerry.singlePattern.SingleInstance4@7004943 <çº¿ç¨‹24æ­£åœ¨è¿è¡Œ>
> com.jerry.singlePattern.SingleInstance4@7004943 <çº¿ç¨‹21æ­£åœ¨è¿è¡Œ>
> com.jerry.singlePattern.SingleInstance4@7004943 <çº¿ç¨‹22æ­£åœ¨è¿è¡Œ>

é™æ€å†…éƒ¨ç±»`SingletonHolder`ä¸­åŒ…å«äº†ä¸€ä¸ªé™æ€å­—æ®µ`INSTANCE`ï¼Œè¿™ä¸ªå­—æ®µåœ¨é™æ€å†…éƒ¨ç±»è¢«åŠ è½½æ—¶åˆå§‹åŒ–ã€‚ç”±äºJVMçš„ç±»åŠ è½½æœºåˆ¶ä¿è¯äº†ç±»çš„åˆå§‹åŒ–è¿‡ç¨‹æ˜¯çº¿ç¨‹å®‰å…¨çš„ï¼Œå› æ­¤é™æ€å†…éƒ¨ç±»ä¸­çš„é™æ€å­—æ®µåªä¼šè¢«åˆå§‹åŒ–ä¸€æ¬¡ï¼Œå³åœ¨é¦–æ¬¡é€šè¿‡`getInstance()`æ–¹æ³•è®¿é—®æ—¶ã€‚è¿™å°±ç¡®ä¿äº†å•ä¾‹çš„æ‡’åŠ è½½å’Œçº¿ç¨‹å®‰å…¨ã€‚

å½“`Singleton`ç±»è¢«åŠ è½½æ—¶ï¼Œ`SingletonHolder`ç±»å¹¶ä¸ä¼šç«‹å³è¢«åŠ è½½ã€‚åªæœ‰å½“è°ƒç”¨`Singleton.getInstance()`æ–¹æ³•æ—¶ï¼Œ`SingletonHolder`ç±»æ‰ä¼šè¢«åŠ è½½ï¼Œæ­¤æ—¶ä¼šåˆå§‹åŒ–`INSTANCE`å­—æ®µã€‚ç”±äºç±»çš„åŠ è½½å’Œåˆå§‹åŒ–æ˜¯ç”±JVMåœ¨å†…éƒ¨é€šè¿‡é”æœºåˆ¶ä¿è¯çº¿ç¨‹å®‰å…¨çš„ï¼Œæ‰€ä»¥ä¸éœ€è¦é¢å¤–çš„åŒæ­¥æªæ–½ã€‚

å› æ­¤ï¼Œé™æ€å†…éƒ¨ç±»å®ç°å•ä¾‹æ¨¡å¼æ—¢èƒ½å¤Ÿå®ç°æ‡’åŠ è½½ï¼Œåˆèƒ½å¤Ÿåˆ©ç”¨JVMçš„ç±»åŠ è½½æœºåˆ¶ä¿è¯çº¿ç¨‹å®‰å…¨ã€‚è¿™æ˜¯å•ä¾‹æ¨¡å¼ä¸­ä¸€ç§éå¸¸ä¼˜é›…ä¸”é«˜æ•ˆçš„å®ç°æ–¹å¼ã€‚

## æšä¸¾ï¼šçº¿ç¨‹å®‰å…¨

```java
public enum SingleInstance5 implements Serializable {
    INSTANCE_5;

    // å¦‚æœéœ€è¦ï¼Œå¯ä»¥æ·»åŠ å…¶ä»–å±æ€§æˆ–æ–¹æ³•
    private String data;

    public void setData(String data) {
        this.data = data;
    }

    public String getData() {
        return data;
    }

    // å…¶ä»–éœ€è¦çš„æ–¹æ³•
}
```

> è¿è¡Œç»“æœ:
>
> INSTANCE_5 <çº¿ç¨‹20æ­£åœ¨è¿è¡Œ>
> INSTANCE_5 <çº¿ç¨‹23æ­£åœ¨è¿è¡Œ>
> INSTANCE_5 <çº¿ç¨‹22æ­£åœ¨è¿è¡Œ>
> INSTANCE_5 <çº¿ç¨‹24æ­£åœ¨è¿è¡Œ>
> INSTANCE_5 <çº¿ç¨‹21æ­£åœ¨è¿è¡Œ>



åœ¨è¿™ä¸ªä¾‹å­ä¸­ï¼Œ`SingleInstance5` æ˜¯ä¸€ä¸ªæšä¸¾ç±»å‹ï¼Œå®ƒåªæœ‰ä¸€ä¸ªå®ä¾‹ `INSTANCE`ã€‚ç”±äºæšä¸¾çš„ç‰¹æ€§ï¼Œè¿™ä¸ªå®ä¾‹æ˜¯çº¿ç¨‹å®‰å…¨çš„ï¼Œå¹¶ä¸”åœ¨æ•´ä¸ªåº”ç”¨ç¨‹åºä¸­éƒ½æ˜¯å”¯ä¸€çš„ã€‚

è¦è·å–è¿™ä¸ªå•ä¾‹çš„å®ä¾‹ï¼Œåªéœ€è¦è°ƒç”¨ `SingleInstance5.INSTANCE`ã€‚è¦è®¿é—®æˆ–ä¿®æ”¹å®ƒçš„å±æ€§ï¼Œå¯ä»¥ä½¿ç”¨ `SingleInstance5.INSTANCE.setData(data)` å’Œ `SingleInstance5.INSTANCE.getData()` æ–¹æ³•ã€‚

å…³äºåºåˆ—åŒ–ï¼Œç”±äºæšä¸¾å®ä¾‹åœ¨ååºåˆ—åŒ–æ—¶ä¼šè¢«å½“ä½œå•ä¸ªå¯¹è±¡å¤„ç†ï¼Œå› æ­¤ä¸ä¼šå‡ºç°é‡æ–°åˆ›å»ºå®ä¾‹çš„æƒ…å†µã€‚ä¹Ÿå°±æ˜¯è¯´ï¼Œå³ä½¿ä½ å°è¯•åºåˆ—åŒ–å¹¶ååºåˆ—åŒ– `SingletonEnum.INSTANCE`ï¼Œä½ å¾—åˆ°çš„ä»ç„¶æ˜¯åŒä¸€ä¸ªå®ä¾‹ã€‚

ä½¿ç”¨æšä¸¾å®ç°å•ä¾‹æ¨¡å¼çš„å¥½å¤„æ˜¯ç®€å•ã€é«˜æ•ˆä¸”çº¿ç¨‹å®‰å…¨ï¼Œä¸éœ€è¦æ‹…å¿ƒå¤šçº¿ç¨‹ç¯å¢ƒä¸‹çš„ç«æ€æ¡ä»¶æˆ–å…¶ä»–åŒæ­¥é—®é¢˜ã€‚æ­¤å¤–ï¼Œç”±äºæšä¸¾ç±»å‹åœ¨Javaä¸­æ˜¯ç‰¹æ®Šçš„ç±»ï¼Œå®ƒä»¬ä¸èƒ½è¢«ç»§æ‰¿æˆ–åå°„å®ä¾‹åŒ–ï¼Œè¿™è¿›ä¸€æ­¥å¢å¼ºäº†å•ä¾‹çš„å®‰å…¨æ€§ã€‚

## ä¼˜ç¼ºç‚¹

### ä¼˜ç‚¹ï¼š

1. **èŠ‚çœèµ„æº**ï¼šç”±äºç³»ç»Ÿå†…å­˜ä¸­åªå­˜åœ¨ä¸€ä¸ªå®ä¾‹ï¼Œå› æ­¤å¯ä»¥èŠ‚çº¦ç³»ç»Ÿèµ„æºï¼Œå°¤å…¶æ˜¯å¯¹äºé‚£äº›éœ€è¦é¢‘ç¹åˆ›å»ºå’Œé”€æ¯çš„å¯¹è±¡ï¼Œå•ä¾‹æ¨¡å¼æ— ç–‘å¯ä»¥æé«˜ç³»ç»Ÿçš„æ€§èƒ½ã€‚
2. **ç®€åŒ–ä»£ç **ï¼šå•ä¾‹æ¨¡å¼æä¾›äº†ä¸€ä¸ªå…¨å±€è®¿é—®ç‚¹ï¼Œå¯ä»¥æ–¹ä¾¿åœ°åœ¨åº”ç”¨ç¨‹åºçš„ä»»ä½•åœ°æ–¹è®¿é—®è¯¥å®ä¾‹ï¼Œæ— éœ€é¢‘ç¹åœ°åˆ›å»ºå’Œé”€æ¯å¯¹è±¡ï¼Œä»è€Œç®€åŒ–äº†ä»£ç ã€‚
3. **é¿å…æ•°æ®ä¸ä¸€è‡´**ï¼šå•ä¾‹æ¨¡å¼å¯ä»¥ç¡®ä¿æ‰€æœ‰å¯¹è±¡éƒ½è®¿é—®åŒä¸€ä¸ªå®ä¾‹ï¼Œä»è€Œé¿å…äº†ç”±äºå¤šä¸ªå®ä¾‹å¯¼è‡´çš„æ•°æ®ä¸ä¸€è‡´é—®é¢˜ã€‚

### ç¼ºç‚¹ï¼š

1. **æ‰©å±•æ€§å·®**ï¼šç”±äºå•ä¾‹æ¨¡å¼ä¸­æ²¡æœ‰æŠ½è±¡å±‚ï¼Œå› æ­¤å•ä¾‹ç±»çš„æ‰©å±•æœ‰å¾ˆå¤§çš„å›°éš¾ã€‚å¦‚æœéœ€è¦æ‰©å±•å•ä¾‹ç±»çš„åŠŸèƒ½ï¼Œé€šå¸¸éœ€è¦ä¿®æ”¹æºä»£ç ï¼Œè¿™è¿åäº†å¼€é—­åŸåˆ™ã€‚
2. **èŒè´£è¿‡é‡**ï¼šå•ä¾‹ç±»æ—¢å……å½“äº†å·¥å‚è§’è‰²ï¼Œæä¾›äº†å·¥å‚æ–¹æ³•ï¼ŒåŒæ—¶åˆå……å½“äº†äº§å“è§’è‰²ï¼ŒåŒ…å«ä¸€äº›ä¸šåŠ¡æ–¹æ³•ï¼Œå°†äº§å“çš„åˆ›å»ºå’Œäº§å“çš„æœ¬èº«çš„åŠŸèƒ½èåˆåˆ°ä¸€èµ·ï¼Œå¯¼è‡´èŒè´£è¿‡é‡ï¼Œåœ¨ä¸€å®šç¨‹åº¦ä¸Šè¿èƒŒäº†â€œå•ä¸€èŒè´£åŸåˆ™â€ã€‚
3. **çº¿ç¨‹å®‰å…¨é—®é¢˜**ï¼šåœ¨å¤šçº¿ç¨‹ç¯å¢ƒä¸‹ï¼Œå•ä¾‹æ¨¡å¼çš„å®ç°éœ€è¦è€ƒè™‘çº¿ç¨‹å®‰å…¨é—®é¢˜ã€‚å¦‚æœå®ç°ä¸å½“ï¼Œå¯èƒ½ä¼šå¯¼è‡´å¤šä¸ªå®ä¾‹è¢«åˆ›å»ºï¼Œä»è€Œå¼•å‘æ•°æ®ä¸ä¸€è‡´çš„é—®é¢˜ã€‚
4. **æ»¥ç”¨å¯èƒ½å¯¼è‡´é—®é¢˜**ï¼šå¦‚æœæ»¥ç”¨å•ä¾‹æ¨¡å¼ï¼Œä¾‹å¦‚å°†æ•°æ®åº“è¿æ¥æ± è®¾è®¡ä¸ºå•ä¾‹ç±»ï¼Œå¯èƒ½ä¼šå¯¼è‡´å…±äº«è¿æ¥æ± å¯¹è±¡çš„ç¨‹åºè¿‡å¤šè€Œå‡ºç°è¿æ¥æ± æº¢å‡ºï¼›å¦‚æœå®ä¾‹åŒ–çš„å¯¹è±¡é•¿æ—¶é—´ä¸è¢«åˆ©ç”¨ï¼Œç³»ç»Ÿä¼šè®¤ä¸ºæ˜¯åƒåœ¾è€Œè¢«å›æ”¶ï¼Œè¿™å°†å¯¼è‡´å¯¹è±¡çŠ¶æ€çš„ä¸¢å¤±ã€‚



---

ä»£ç ç›¸å…³ä»£ç å¯ä»¥å‚è€ƒ **[ä»£ç ä»“åº“ğŸŒ](https://gitee.com/jerrylau213/DesignPatterns)**

**psï¼šæœ¬æ–‡åŸåˆ›ï¼Œè½¬è½½è¯·æ³¨æ˜å‡ºå¤„**

---